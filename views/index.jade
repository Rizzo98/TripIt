extends map

block content

  a#left-menu.btnOver(href='#content-menu') >
  
  
  #map1.map-fs
  

  script.
    let mymap = L.map('map1').locate({setView: true, maxZoom: 20});
    L.tileLayer.provider('OpenStreetMap.HOT').addTo(mymap);
    
    $(document).ready(function(){
      let menuClosed = true
      $('#left-menu').sidr({
        name: 'sidr-left',
        side: 'left',
        source : window.location.href+'./menuContent.html'
      });
      $('#left-menu').click(()=>{
        if(menuClosed){
          $('#left-menu').text('<')
          menuClosed = false
        }else{
          $('#left-menu').text('>')
          menuClosed = true
        }
        
      })
      mymap.on('locationfound', onLocationFound);
      mymap.on('locationerror', onLocationError);
      
    });
    
    function onLocationFound(e) {
      var radius = e.accuracy / 2;
      L.circle(e.latlng,{
        color: '#8585ad',
        fillColor: '#8585ad',
        fillOpacity: 0.5,
        radius: radius
      }).addTo(mymap);
    }
    function onLocationError(e) {
      alert(e.message);
    }
